{"version":3,"file":"react.js","sources":["../../src/react.tsx"],"sourcesContent":["import * as React from 'react'\nimport { NoInfer, useStore } from '@tanstack/react-store'\nimport invariant from 'tiny-invariant'\nimport warning from 'tiny-warning'\nimport {\n  LinkOptions,\n  ToOptions,\n  ResolveRelativePath,\n  NavigateOptions,\n} from './link'\nimport { AnyRoute } from './route'\nimport { RouteByPath, AnyRoutesInfo, DefaultRoutesInfo } from './routeInfo'\nimport { AnyRouteMatch, RouteMatch } from './routeMatch'\nimport {\n  RegisteredRoutesInfo,\n  MatchRouteOptions,\n  RegisteredRouter,\n  RouterOptions,\n  RouterState,\n  Router,\n} from './router'\nimport { functionalUpdate, last } from './utils'\n\n//\n\nexport { useStore }\n\n//\n\ntype ReactNode = any\n\nexport type SyncRouteComponent<TProps = {}> = (props: TProps) => ReactNode\n\nexport type RouteComponent<TProps = {}> = SyncRouteComponent<TProps> & {\n  preload?: () => Promise<void>\n}\n\nexport function lazy<T extends Record<string, SyncRouteComponent>>(\n  importer: () => Promise<T>,\n  exportName: keyof T = 'default',\n): RouteComponent {\n  const lazyComp = React.lazy(async () => {\n    const moduleExports = await importer()\n    const component = moduleExports[exportName]\n    return { default: component }\n  })\n\n  let preloaded: Promise<SyncRouteComponent>\n\n  const finalComp = lazyComp as unknown as RouteComponent\n\n  finalComp.preload = async () => {\n    if (!preloaded) {\n      await importer()\n    }\n  }\n\n  return finalComp\n}\n\nexport type LinkPropsOptions<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n> = LinkOptions<RegisteredRoutesInfo, TFrom, TTo> & {\n  // A function that returns additional props for the `active` state of this link. These props override other props passed to the link (`style`'s are merged, `className`'s are concatenated)\n  activeProps?:\n    | React.AnchorHTMLAttributes<HTMLAnchorElement>\n    | (() => React.AnchorHTMLAttributes<HTMLAnchorElement>)\n  // A function that returns additional props for the `inactive` state of this link. These props override other props passed to the link (`style`'s are merged, `className`'s are concatenated)\n  inactiveProps?:\n    | React.AnchorHTMLAttributes<HTMLAnchorElement>\n    | (() => React.AnchorHTMLAttributes<HTMLAnchorElement>)\n}\n\nexport type MakeUseMatchRouteOptions<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n> = ToOptions<RegisteredRoutesInfo, TFrom, TTo> & MatchRouteOptions\n\nexport type MakeMatchRouteOptions<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n> = ToOptions<RegisteredRoutesInfo, TFrom, TTo> &\n  MatchRouteOptions & {\n    // If a function is passed as a child, it will be given the `isActive` boolean to aid in further styling on the element it returns\n    children?:\n      | ReactNode\n      | ((\n          params: RouteByPath<\n            RegisteredRoutesInfo,\n            ResolveRelativePath<TFrom, NoInfer<TTo>>\n          >['__types']['allParams'],\n        ) => ReactNode)\n  }\n\nexport type MakeLinkPropsOptions<\n  TFrom extends string = '/',\n  TTo extends string = '',\n> = LinkPropsOptions<TFrom, TTo> & React.AnchorHTMLAttributes<HTMLAnchorElement>\n\nexport type MakeLinkOptions<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n> = LinkPropsOptions<TFrom, TTo> &\n  Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, 'children'> & {\n    // If a function is passed as a child, it will be given the `isActive` boolean to aid in further styling on the element it returns\n    children?:\n      | React.ReactNode\n      | ((state: { isActive: boolean }) => React.ReactNode)\n  }\n\nexport type PromptProps = {\n  message: string\n  condition?: boolean | any\n  children?: ReactNode\n}\n\n//\n\nexport function useLinkProps<\n  TFrom extends string = '/',\n  TTo extends string = '',\n>(\n  options: MakeLinkPropsOptions<TFrom, TTo>,\n): React.AnchorHTMLAttributes<HTMLAnchorElement> {\n  const router = useRouterContext()\n\n  const {\n    // custom props\n    type,\n    children,\n    target,\n    activeProps = () => ({ className: 'active' }),\n    inactiveProps = () => ({}),\n    activeOptions,\n    disabled,\n    // fromCurrent,\n    hash,\n    search,\n    params,\n    to = '.',\n    preload,\n    preloadDelay,\n    replace,\n    // element props\n    style,\n    className,\n    onClick,\n    onFocus,\n    onMouseEnter,\n    onMouseLeave,\n    onTouchStart,\n    ...rest\n  } = options\n\n  const linkInfo = router.buildLink(options as any)\n\n  if (linkInfo.type === 'external') {\n    const { href } = linkInfo\n    return { href }\n  }\n\n  const {\n    handleClick,\n    handleFocus,\n    handleEnter,\n    handleLeave,\n    handleTouchStart,\n    isActive,\n    next,\n  } = linkInfo\n\n  const reactHandleClick = (e: Event) => {\n    if (React.startTransition) {\n      // This is a hack for react < 18\n      React.startTransition(() => {\n        handleClick(e)\n      })\n    } else {\n      handleClick(e)\n    }\n  }\n\n  const composeHandlers =\n    (handlers: (undefined | ((e: any) => void))[]) =>\n    (e: React.SyntheticEvent) => {\n      if (e.persist) e.persist()\n      handlers.filter(Boolean).forEach((handler) => {\n        if (e.defaultPrevented) return\n        handler!(e)\n      })\n    }\n\n  // Get the active props\n  const resolvedActiveProps: React.HTMLAttributes<HTMLAnchorElement> = isActive\n    ? functionalUpdate(activeProps as any, {}) ?? {}\n    : {}\n\n  // Get the inactive props\n  const resolvedInactiveProps: React.HTMLAttributes<HTMLAnchorElement> =\n    isActive ? {} : functionalUpdate(inactiveProps, {}) ?? {}\n\n  return {\n    ...resolvedActiveProps,\n    ...resolvedInactiveProps,\n    ...rest,\n    href: disabled ? undefined : next.href,\n    onClick: composeHandlers([onClick, reactHandleClick]),\n    onFocus: composeHandlers([onFocus, handleFocus]),\n    onMouseEnter: composeHandlers([onMouseEnter, handleEnter]),\n    onMouseLeave: composeHandlers([onMouseLeave, handleLeave]),\n    onTouchStart: composeHandlers([onTouchStart, handleTouchStart]),\n    target,\n    style: {\n      ...style,\n      ...resolvedActiveProps.style,\n      ...resolvedInactiveProps.style,\n    },\n    className:\n      [\n        className,\n        resolvedActiveProps.className,\n        resolvedInactiveProps.className,\n      ]\n        .filter(Boolean)\n        .join(' ') || undefined,\n    ...(disabled\n      ? {\n          role: 'link',\n          'aria-disabled': true,\n        }\n      : undefined),\n    ['data-status']: isActive ? 'active' : undefined,\n  }\n}\n\nexport interface LinkFn<\n  TDefaultFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TDefaultTo extends string = '',\n> {\n  <\n    TFrom extends RegisteredRoutesInfo['routePaths'] = TDefaultFrom,\n    TTo extends string = TDefaultTo,\n  >(\n    props: MakeLinkOptions<TFrom, TTo> & React.RefAttributes<HTMLAnchorElement>,\n  ): ReactNode\n}\n\nexport const Link: LinkFn = React.forwardRef((props: any, ref) => {\n  const linkProps = useLinkProps(props)\n\n  return (\n    <a\n      {...{\n        ref: ref as any,\n        ...linkProps,\n        children:\n          typeof props.children === 'function'\n            ? props.children({\n                isActive: (linkProps as any)['data-status'] === 'active',\n              })\n            : props.children,\n      }}\n    />\n  )\n}) as any\n\nexport function Navigate<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n>(props: NavigateOptions<RegisteredRoutesInfo, TFrom, TTo>): null {\n  const router = useRouterContext()\n\n  React.useLayoutEffect(() => {\n    router.navigate(props as any)\n  }, [])\n\n  return null\n}\n\ntype MatchesContextValue = AnyRouteMatch[]\n\nexport const matchesContext = React.createContext<MatchesContextValue>(null!)\nexport const routerContext = React.createContext<{ router: RegisteredRouter }>(\n  null!,\n)\n\nexport type MatchesProviderProps = {\n  value: MatchesContextValue\n  children: ReactNode\n}\n\nexport type RouterProps<\n  TRouteConfig extends AnyRoute = AnyRoute,\n  TRoutesInfo extends AnyRoutesInfo = DefaultRoutesInfo,\n  TDehydrated extends Record<string, any> = Record<string, any>,\n> = RouterOptions<TRouteConfig, TDehydrated> & {\n  router: Router<TRouteConfig, TRoutesInfo>\n}\n\n// const useDeferredValue = React.useDeferredValue || ((d) => d)\nconst useDeferredValue = <T,>(d: T) => d\n\nexport function RouterProvider<\n  TRouteConfig extends AnyRoute = AnyRoute,\n  TRoutesInfo extends AnyRoutesInfo = DefaultRoutesInfo,\n  TDehydrated extends Record<string, any> = Record<string, any>,\n>({ router, ...rest }: RouterProps<TRouteConfig, TRoutesInfo, TDehydrated>) {\n  router.update(rest)\n\n  const matches = useDeferredValue(\n    useStore(router.__store, (s) => {\n      return s.matches\n    }),\n  )\n\n  React.useEffect(router.mount, [router])\n\n  return (\n    <routerContext.Provider value={{ router: router as any }}>\n      <matchesContext.Provider value={[undefined!, ...matches]}>\n        <CatchBoundary\n          errorComponent={ErrorComponent}\n          onCatch={() => {\n            warning(\n              false,\n              `Error in router! Consider setting an 'errorComponent' in your RootRoute! 👍`,\n            )\n          }}\n        >\n          <Outlet />\n        </CatchBoundary>\n      </matchesContext.Provider>\n    </routerContext.Provider>\n  )\n}\n\nexport function useRouterContext(): RegisteredRouter {\n  const value = React.useContext(routerContext)\n  warning(value, 'useRouter must be used inside a <Router> component!')\n\n  useStore(value.router.__store)\n\n  return value.router\n}\n\nexport function useRouter<T = RouterState>(\n  track?: (state: Router['__store']['state']) => T,\n): RegisteredRouter {\n  const router = useRouterContext()\n  useStore(router.__store, track as any)\n  return router\n}\n\nexport function useMatches(): RouteMatch[] {\n  return React.useContext(matchesContext)\n}\n\nexport function useMatch<\n  TFrom extends keyof RegisteredRoutesInfo['routesById'],\n  TStrict extends boolean = true,\n  TRouteMatch = RouteMatch<\n    RegisteredRoutesInfo,\n    RegisteredRoutesInfo['routesById'][TFrom]\n  >,\n>(opts?: {\n  from: TFrom\n  strict?: TStrict\n  track?: (match: TRouteMatch) => any\n}): TStrict extends true ? TRouteMatch : TRouteMatch | undefined {\n  const router = useRouterContext()\n  const nearestMatch = useMatches()[0]!\n  const matches = useDeferredValue(router.state.matches)\n  const match = opts?.from\n    ? matches.find((d) => d.route.id === opts?.from)\n    : nearestMatch\n\n  invariant(\n    match,\n    `Could not find ${\n      opts?.from ? `an active match from \"${opts.from}\"` : 'a nearest match!'\n    }`,\n  )\n\n  if (opts?.strict ?? true) {\n    invariant(\n      nearestMatch.route.id == match?.route.id,\n      `useMatch(\"${\n        match?.route.id as string\n      }\") is being called in a component that is meant to render the '${\n        nearestMatch.route.id\n      }' route. Did you mean to 'useMatch(\"${\n        match?.route.id as string\n      }\", { strict: false })' or 'useRoute(\"${\n        match?.route.id as string\n      }\")' instead?`,\n    )\n  }\n\n  useStore(match!.__store as any, (d) => opts?.track?.(match as any) ?? match)\n\n  return match as any\n}\n\nexport type RouteFromIdOrRoute<T> = T extends RegisteredRoutesInfo['routeUnion']\n  ? T\n  : T extends keyof RegisteredRoutesInfo['routesById']\n  ? RegisteredRoutesInfo['routesById'][T]\n  : T extends string\n  ? keyof RegisteredRoutesInfo['routesById']\n  : never\n\nexport function useLoader<\n  TFrom extends keyof RegisteredRoutesInfo['routesById'],\n  TStrict extends boolean = true,\n  TLoader = RegisteredRoutesInfo['routesById'][TFrom]['__types']['loader'],\n  TSelected = TLoader,\n>(opts?: {\n  from: TFrom\n  strict?: TStrict\n  track?: (search: TLoader) => TSelected\n}): TStrict extends true ? TSelected : TSelected | undefined {\n  const { track, ...matchOpts } = opts as any\n  const match = useMatch(matchOpts)\n  useStore(match.__store, (d: any) => opts?.track?.(d.loader) ?? d.loader)\n  return (match as unknown as RouteMatch).state.loader as any\n}\n\nexport function useSearch<\n  TFrom extends keyof RegisteredRoutesInfo['routesById'],\n  TStrict extends boolean = true,\n  TSearch = RegisteredRoutesInfo['routesById'][TFrom]['__types']['fullSearchSchema'],\n  TSelected = TSearch,\n>(opts?: {\n  from: TFrom\n  strict?: TStrict\n  track?: (search: TSearch) => TSelected\n}): TStrict extends true ? TSelected : TSelected | undefined {\n  const { track, ...matchOpts } = (opts ?? {}) as any\n  const match = useMatch(matchOpts)\n  useStore(match.__store, (d: any) => opts?.track?.(d.search) ?? d.search)\n\n  return (match as unknown as RouteMatch).state.search as any\n}\n\nexport function useParams<\n  TFrom extends keyof RegisteredRoutesInfo['routesById'] = '/',\n  TDefaultSelected = RegisteredRoutesInfo['allParams'] &\n    RegisteredRoutesInfo['routesById'][TFrom]['__types']['allParams'],\n  TSelected = TDefaultSelected,\n>(opts?: {\n  from: TFrom\n  track?: (search: TDefaultSelected) => TSelected\n}): TSelected {\n  const router = useRouterContext()\n  return useStore(router.__store, (d) => {\n    const params = last(d.matches)?.params as any\n    return opts?.track?.(params) ?? params\n  })\n\n  // return last(router.state.matches)?.params as any\n}\n\nexport function useNavigate<\n  TDefaultFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n>(defaultOpts?: { from?: TDefaultFrom }) {\n  const router = useRouterContext()\n  return React.useCallback(\n    <\n      TFrom extends RegisteredRoutesInfo['routePaths'] = TDefaultFrom,\n      TTo extends string = '',\n    >(\n      opts?: NavigateOptions<RegisteredRoutesInfo, TFrom, TTo>,\n    ) => {\n      return router.navigate({ ...defaultOpts, ...(opts as any) })\n    },\n    [],\n  )\n}\n\nexport function useMatchRoute() {\n  const router = useRouterContext()\n\n  return React.useCallback(\n    <TFrom extends string = '/', TTo extends string = ''>(\n      opts: MakeUseMatchRouteOptions<TFrom, TTo>,\n    ) => {\n      const { pending, caseSensitive, ...rest } = opts\n\n      return router.matchRoute(rest as any, {\n        pending,\n        caseSensitive,\n      })\n    },\n    [],\n  )\n}\n\nexport function MatchRoute<TFrom extends string = '/', TTo extends string = ''>(\n  props: MakeMatchRouteOptions<TFrom, TTo>,\n): any {\n  const matchRoute = useMatchRoute()\n  const params = matchRoute(props)\n\n  if (!params) {\n    return null\n  }\n\n  if (typeof props.children === 'function') {\n    return (props.children as any)(params)\n  }\n\n  return params ? props.children : null\n}\n\nexport function Outlet() {\n  const matches = useMatches().slice(1)\n  const match = matches[0]\n\n  if (!match) {\n    return null\n  }\n\n  return <SubOutlet matches={matches} match={match} />\n}\n\nfunction SubOutlet({\n  matches,\n  match,\n}: {\n  matches: RouteMatch[]\n  match: RouteMatch\n}) {\n  const router = useRouterContext()\n  useStore(match!.__store, (store) => [store.status, store.error])\n\n  const defaultPending = React.useCallback(() => null, [])\n\n  const PendingComponent = (match.pendingComponent ??\n    router.options.defaultPendingComponent ??\n    defaultPending) as any\n\n  const errorComponent =\n    match.errorComponent ?? router.options.defaultErrorComponent\n\n  const ResolvedSuspenseBoundary =\n    match.route.options.wrapInSuspense ?? !match.route.isRoot\n      ? React.Suspense\n      : SafeFragment\n\n  const ResolvedCatchBoundary = errorComponent ? CatchBoundary : SafeFragment\n\n  // if (typeof document === 'undefined') {\n  //   if (match.state.loader) {\n  //     Object.keys(match.state.loader).forEach((key) => {\n  //       let value = match.state.loader[key]\n\n  //       if (value instanceof Promise || value.then) {\n  //         value = {\n  //           __isPromise: true,\n  //           key: key,\n  //         }\n  //       }\n\n  //       dehydrated[key] = value\n  //     })\n  //   }\n  // } else {\n  // }\n\n  return (\n    <matchesContext.Provider value={matches}>\n      <ResolvedSuspenseBoundary fallback={<PendingComponent />}>\n        <ResolvedCatchBoundary\n          key={match.route.id}\n          errorComponent={errorComponent}\n          onCatch={() => {\n            warning(false, `Error in route match: ${match.id}`)\n          }}\n        >\n          <Inner match={match} />\n          {/* {!match.route.isRoot\n            ? Object.keys(match.__promisesByKey).map((key) => {\n                return (\n                  <React.Suspense key={key}>\n                    <StreamScript\n                      match={match}\n                      promiseKey={key}\n                      promise={match.__promisesByKey[key]!}\n                    />\n                  </React.Suspense>\n                )\n              })\n            : null} */}\n        </ResolvedCatchBoundary>\n      </ResolvedSuspenseBoundary>\n    </matchesContext.Provider>\n  )\n}\n\nexport function useInjectHtml() {\n  const router = useRouterContext()\n\n  return React.useCallback(\n    (html: string | (() => Promise<string> | string)) => {\n      router.injectHtml(html)\n    },\n    [],\n  )\n}\n\nexport function useDehydrate() {\n  const router = useRouterContext()\n\n  return React.useCallback(function dehydrate<T>(\n    key: any,\n    data: T | (() => Promise<T> | T),\n  ) {\n    return router.dehydrateData(key, data)\n  },\n  [])\n}\n\nexport function useHydrate() {\n  const router = useRouterContext()\n\n  return function hydrate<T = unknown>(key: any) {\n    return router.hydrateData(key) as T\n  }\n}\n\nfunction Inner(props: { match: RouteMatch }): any {\n  const router = useRouterContext()\n\n  if (props.match.state.status === 'error') {\n    throw props.match.state.error\n  }\n\n  if (props.match.state.status === 'pending') {\n    throw props.match.__loadPromise\n  }\n\n  if (props.match.state.status === 'success') {\n    let comp = props.match.component ?? router.options.defaultComponent\n\n    if (comp) {\n      return React.createElement(comp, {\n        useLoader: props.match.route.useLoader,\n        useMatch: props.match.route.useMatch,\n        useContext: props.match.route.useContext,\n        useSearch: props.match.route.useSearch,\n        useParams: props.match.route.useParams,\n      })\n    }\n\n    return <Outlet />\n  }\n\n  invariant(\n    false,\n    'Idle routeMatch status encountered during rendering! You should never see this. File an issue!',\n  )\n}\n\nfunction SafeFragment(props: any) {\n  return <>{props.children}</>\n}\n\n// This is the messiest thing ever... I'm either seriously tired (likely) or\n// there has to be a better way to reset error boundaries when the\n// router's location key changes.\n\nclass CatchBoundary extends React.Component<{\n  children: any\n  errorComponent: any\n  onCatch: (error: any, info: any) => void\n}> {\n  state = {\n    error: false,\n    info: undefined,\n  }\n  componentDidCatch(error: any, info: any) {\n    this.props.onCatch(error, info)\n    console.error(error)\n    this.setState({\n      error,\n      info,\n    })\n  }\n  render() {\n    return (\n      <CatchBoundaryInner\n        {...this.props}\n        errorState={this.state}\n        reset={() => this.setState({})}\n      />\n    )\n  }\n}\n\nfunction CatchBoundaryInner(props: {\n  children: any\n  errorComponent: any\n  errorState: { error: unknown; info: any }\n  reset: () => void\n}) {\n  const [activeErrorState, setActiveErrorState] = React.useState(\n    props.errorState,\n  )\n  const router = useRouterContext()\n  const errorComponent = props.errorComponent ?? ErrorComponent\n  const prevKeyRef = React.useRef('' as any)\n\n  React.useEffect(() => {\n    if (activeErrorState) {\n      if (router.state.location.key !== prevKeyRef.current) {\n        // setActiveErrorState({} as any)\n      }\n    }\n\n    prevKeyRef.current = router.state.location.key\n  }, [activeErrorState, router.state.location.key])\n\n  React.useEffect(() => {\n    if (props.errorState.error) {\n      // setActiveErrorState(props.errorState)\n    }\n    // props.reset()\n  }, [props.errorState.error])\n\n  if (props.errorState.error && activeErrorState.error) {\n    return React.createElement(errorComponent, activeErrorState)\n  }\n\n  return props.children\n}\n\nexport function ErrorComponent({ error }: { error: any }) {\n  return (\n    <div style={{ padding: '.5rem', maxWidth: '100%' }}>\n      <strong style={{ fontSize: '1.2rem' }}>Something went wrong!</strong>\n      <div style={{ height: '.5rem' }} />\n      <div>\n        <pre\n          style={{\n            fontSize: '.7em',\n            border: '1px solid red',\n            borderRadius: '.25rem',\n            padding: '.5rem',\n            color: 'red',\n            overflow: 'auto',\n          }}\n        >\n          {error.message ? <code>{error.message}</code> : null}\n        </pre>\n      </div>\n    </div>\n  )\n}\n\nexport function useBlocker(\n  message: string,\n  condition: boolean | any = true,\n): void {\n  const router = useRouter()\n\n  React.useEffect(() => {\n    if (!condition) return\n\n    let unblock = router.history.block((retry, cancel) => {\n      if (window.confirm(message)) {\n        unblock()\n        retry()\n      }\n    })\n\n    return unblock\n  })\n}\n\nexport function Block({ message, condition, children }: PromptProps) {\n  useBlocker(message, condition)\n  return (children ?? null) as ReactNode\n}\n"],"names":["lazy","importer","exportName","lazyComp","React","moduleExports","component","default","finalComp","preload","useLinkProps","options","router","useRouterContext","type","children","target","activeProps","className","inactiveProps","activeOptions","disabled","hash","search","params","to","preloadDelay","replace","style","onClick","onFocus","onMouseEnter","onMouseLeave","onTouchStart","rest","linkInfo","buildLink","href","handleClick","handleFocus","handleEnter","handleLeave","handleTouchStart","isActive","next","reactHandleClick","e","startTransition","composeHandlers","handlers","persist","filter","Boolean","forEach","handler","defaultPrevented","resolvedActiveProps","functionalUpdate","resolvedInactiveProps","undefined","join","role","Link","forwardRef","props","ref","linkProps","_extends","Navigate","useLayoutEffect","navigate","matchesContext","createContext","routerContext","useDeferredValue","d","RouterProvider","update","matches","useStore","__store","s","useEffect","mount","ErrorComponent","warning","value","useContext","useRouter","track","useMatches","useMatch","opts","nearestMatch","state","match","from","find","route","id","invariant","strict","useLoader","matchOpts","loader","useSearch","useParams","last","useNavigate","defaultOpts","useCallback","useMatchRoute","pending","caseSensitive","matchRoute","MatchRoute","Outlet","slice","SubOutlet","store","status","error","defaultPending","PendingComponent","pendingComponent","defaultPendingComponent","errorComponent","defaultErrorComponent","ResolvedSuspenseBoundary","wrapInSuspense","isRoot","Suspense","SafeFragment","ResolvedCatchBoundary","CatchBoundary","useInjectHtml","html","injectHtml","useDehydrate","dehydrate","key","data","dehydrateData","useHydrate","hydrate","hydrateData","Inner","__loadPromise","comp","defaultComponent","createElement","Component","info","componentDidCatch","onCatch","console","setState","render","CatchBoundaryInner","activeErrorState","setActiveErrorState","useState","errorState","prevKeyRef","useRef","location","current","padding","maxWidth","fontSize","height","border","borderRadius","color","overflow","message","useBlocker","condition","unblock","history","block","retry","cancel","window","confirm","Block"],"mappings":"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"}